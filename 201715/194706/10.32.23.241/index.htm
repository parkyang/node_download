<!DOCTYPE html>
<!-- saved from url=(0074)https://isux.tencent.com/wp-content/uploads/2015/12/20151221162207754.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>表单提示的默认信息</title>
<link rel="stylesheet" href="./css/reset.css">
<link rel="stylesheet" href="./css/animate.css">
<link rel="stylesheet" href="./css/variable.css">
<link rel="stylesheet" href="./css/lib.css">
<link rel="stylesheet" href="./css/icon.css">
<style type="text/css">
form.bgwh{
	width: 400px;
	margin: 30px auto;
}
pre { padding: 10px 1em; margin: 1em 0; border: 1px dashed #ccc; background-color: #fff; font-family: Consolas, monospace; white-space: pre-wrap; word-wrap: break-word; text-align: left;}
select {
	width: 120px;
}
.left {
	width: 100px;
	float:left;
}
.test {
	width: 600px;
	margin:100px auto auto;
}
.pay {
	padding: 5px 0 5px 100px;
	margin: 20px 0;
	background-color: #EDF3F5;
	font-size: 16px;
	font-weight: bold;
}
.disabled {
	opacity: 0.4;
	filter: alpha(opacity=40);
	pointer-events: none;
	cursor: default;
}
.loaded label.left {
	padding-top: 10px;
}
.ui_dialog_remind {
	word-wrap: break-word;
}
</style>
</head>

<body>
<form id="validateForm" class="p20 bgwh">
	<h6 class="f14 b">完成您的购物订单 <i class="icon icon_title_inf vn ui_tips" title="星号为必填"></i></h6>
    <div class="clearfix mt15">
        <label class="left">邮箱<span class="red abs">*</span></label>
        <div class="cell">
            <input type="email" class="ui_input" name="email" required="">
        </div>
    </div>
    <div class="clearfix mt15">
        <label class="left">手机号<span class="red abs">*</span></label>
        <div class="cell">
            <input type="tel" class="ui_input" name="tel" required="">
        </div>
    </div>
    <div class="clearfix mt15">
        <span class="left">您的款式<span class="red abs">*</span></span>
        <div class="cell">
            <input type="radio" id="radioMale" name="type" value="488"><label class="ui_radio" for="radioMale"></label><label class="mr20 ml5" for="radioMale">男款</label>
            <input type="radio" id="radioFemale" name="type" value="388" required=""><label class="ui_radio" for="radioFemale"></label><label for="radioFemale" class="ml5">女款</label>
            <p id="radioMaleP" class="dn mt10">男款每件488元</p>
            <p id="radioFemaleP" class="dn mt10">女款每件388元</p>
        </div>
    </div>
    <div class="clearfix mt15">
        <label class="left" for="number">购买数量<span class="red abs">*</span></label>
        <div class="cell">
            <input type="number" id="number" class="ui_input" min="1" max="10" size="5" value="1" required="" placeholder="直接输入数值">
        </div>
    </div>
    <div class="clearfix mt15">
        <label class="left">所在城市<span class="red abs">*</span></label>
        <div class="cell">
            <select id="citySelect" required="">
                <option value="">请选择</option>
                <option value="10">深圳</option>
                <option value="5">上海</option>
                <option value="7">北京</option>
                <option value="8">成都</option>
                <option value="6">武汉</option>
            </select>
            <p class="mt10 dn">运费： <strong id="transPrice" class="red">0</strong> 元</p>
        </div>
    </div>
    <div class="clearfix mt15">
        <label class="left">给商家留言</label>
        <div class="cell">
            <div class="ui_textarea"><textarea name="message" rows="4" maxlength="200" placeholder="少于200字符"></textarea></div>
        </div>
    </div>
    <div class="clearfix mt15">
        <span class="left">&nbsp;</span>
        <div class="cell">
            <input type="checkbox" id="checkInsur" name="insurance" value="0.4"><label class="ui_checkbox" for="checkInsur"></label><label class="ml5" for="checkInsur">使用运费险0.4元</label>
        </div>
    </div>
    <p class="pay">您总共需要支付 <strong id="total" class="red">0</strong> 元</p>
    <div class="clearfix mt15">
        <span class="left">是否货到付款</span>
        <div class="cell">
            <input type="checkbox" id="switch" name="pay"><label class="ui_switch" for="switch"></label>
        </div>
    </div>
    <div class="clearfix mt15">
        <label class="left" for="achieveDate">希望到货日期</label>
        <div class="cell">
            <span class="ui_input ui_date_input"><input type="date" id="achieveDate" name="achieve" value="2015-12-27" min="2015-12-27"></span>
            <span class="gray ml20">默认尽快发货</span>
        </div>
    </div>
    <div class="clearfix mt20">
        <span class="left">&nbsp;</span>
        <div class="cell">
            <input type="submit" id="validateSubmit" class="clip">
            <label for="validateSubmit" class="ui_button ui_button_primary">提交</label>
        </div>
    </div>
</form>

<div class="tc test width">
	<a href="javascript:" id="excuteBtn" class="ui_button ui_button_primary">点击执行下面的代码</a>
    <p class="mt10 gray">异步加载<big class="red">QQ公众平台UI组件</big>的CSS和JS，然后初始化</p>
    <pre><span style="color:green;">// 加载CSS</span>
var style = document.createElement('link');
style.rel = 'stylesheet';
style.href = '//mp.gtimg.cn/assetscom/theme/modern/common/ui.css';
document.getElementsByTagName('head')[0].appendChild(style);

<span style="color:green;">// 加载JS</span>
seajs.use([
    'common/ui/Radio',
    'common/ui/Checkbox',
    'common/ui/Select',
    'common/ui/DateTime',
    'common/ui/Tips',
    'common/ui/Dialog',
    'common/ui/Validate'
], function(Radio, Checkbox, Select, DateTime, Tips, Dialog, Validate) {
    <span style="color:green;">// 单复选框和下拉初始化</span>
    Radio.init();
    Checkbox.init();
    Select.init();

    <span style="color:green;">// 日期</span>
    new DateTime($('#achieveDate'));

    <span style="color:green;">// 黑色tips初始化</span>
    new Tips($('.ui_tips'));

    <span style="color:green;">// 弹框</span>
    window.alert = function(message) {
        new Dialog().alert(message);
    };

    <span style="color:green;">// 验证</span>
    new Validate(elForm, fnSubmit);
});</pre>
</div>
<script src="./css/sea.js"></script>
<script>
window.seajs &&
seajs.config({
    //base: "//mp.gtimg.cn/old_mp/assets/js",
		base: "http://10.32.23.241:1422/old_mp/assets/js",
	map: [[/^(.*\.(?:css|js))(.*)$/i, '$1?v=' + Math.random()]],
    alias: {
		jquery: 'plugin/jquery'
	}
}).use(['jquery',
			'common/ui/Radio',
			'common/ui/Checkbox',
			'common/ui/Select',
			'common/ui/DateTime',
			'common/ui/Tips',
			'common/ui/Dialog',
			'common/ui/Validate'], function() {
	var fnMoney = function() {
		// 单价
		var unitPrice = 0,
		// 数量
		number = 1,
		// 运费
		freight = 0,
		// 运费险
		insurance = 0;

		// 真实值
		radioTypes.each(function() {
			if ($(this).prop('checked')) {
				unitPrice = this.value;
			}
		});

		number = elNumber.val();

		freight = elCity.val() || 0;

		if (elInsur.prop('checked')) {
			insurance = elInsur.val();
		}

		var total = unitPrice * number + freight*1 + insurance*1;

		if (unitPrice == 0) {
			total = 0;
		}

		elTotal.html(total || 0);

	};

	var fnSubmit = function() {
		alert('提交的数据是：' + elForm.serialize());
	};

	var radioTypes = $('input[name="type"]').click(function() {
		$(this).parent().find('p').hide();
		$('#' + this.id + 'P').show();
		fnMoney();
	}),
	elNumber = $('#number').on('oninput' in document.body? 'input': 'change', fnMoney),
	elCity = $('#citySelect').change(function() {
		var elPrice = $('#transPrice');
		if (this.value) {
			elPrice.html(this.value).parent().show();
		} else {
			elPrice.html(0).parent().hide();
		}
		fnMoney();
	}),
	elInsur = $('#checkInsur').click(fnMoney),
	elForm = $('#validateForm').submit(function(event) {
		if (!$(this).attr('novalidate')) {
			fnSubmit();
		}
		event.preventDefault();
	}),
	elTotal = $('#total');


	// 加载mpqq  也就是QQ公众号需要的脚本
	$('#excuteBtn').on('click',function() {
		if ($(this).hasClass('disabled')) return false;

		// 加载CSS
		var style = document.createElement('link');
		style.rel = 'stylesheet';
		//style.href = 'http://mp.gtimg.cn/assetscom/theme/modern/common/common.css';
		style.href = 'http://10.32.23.241:1422/assetscom/theme/modern/common/common.css';
		document.getElementsByTagName('head')[0].appendChild(style);

		// 加载JS
		seajs.use([
			'common/ui/Radio',
			'common/ui/Checkbox',
			'common/ui/Select',
			'common/ui/DateTime',
			'common/ui/Tips',
			'common/ui/Dialog',
			'common/ui/Validate'
		], function(Radio, Checkbox, Select, DateTime, Tips, Dialog, Validate) {
			// 单复选框和下拉初始化
			Radio.init();
			Checkbox.init();
			Select.init();

			// 日期
			new DateTime($('#achieveDate'));

			// 黑色tips初始化
			new Tips($('.ui_tips'));

			// 弹框
			window.alert = function(message) {
				new Dialog().alert(message);
			};

			// 验证
			new Validate(elForm, fnSubmit);
		});

		elForm.addClass('loaded');

		$(this).html('加载和执行成功').addClass('disabled');
	});
});

</script>


</body></html>
